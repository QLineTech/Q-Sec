LangChain'in temel yapÄ± taÅŸlarÄ±nÄ± kÃ¼Ã§Ã¼k framework'ler halinde inceleyelim. Her birinin Ã¶zel avantajlarÄ±nÄ± detaylÄ±ca aÃ§Ä±klayarak baÅŸlayalÄ±m.

Ä°lk olarak basit bir "GÃ¼venlik AÃ§Ä±ÄŸÄ± Analiz Framework'Ã¼" oluÅŸturalÄ±m:



```python
# Basit GÃ¼venlik AÃ§Ä±ÄŸÄ± Analiz Framework'Ã¼
# Bu framework, LangChain'in LLMChain Ã¶zelliÄŸini kullanarak gÃ¼venlik aÃ§Ä±klarÄ±nÄ± analiz eder

from langchain.chains import LLMChain
from langchain_groq import ChatGroq
from langchain.prompts import PromptTemplate
from langchain.memory import ConversationBufferMemory
import json
from datetime import datetime

class SimpleVulnerabilityAnalyzer:
    """
    Basit bir gÃ¼venlik aÃ§Ä±ÄŸÄ± analiz aracÄ±. 
    Bu araÃ§, tek bir LLMChain kullanarak gÃ¼venlik aÃ§Ä±klarÄ±nÄ± deÄŸerlendirir.
    """
    
    def __init__(self, api_key):
        # LLM modelini baÅŸlat
        self.llm = ChatGroq(
            api_key=api_key,
            temperature=0.7  # YaratÄ±cÄ± ama tutarlÄ± cevaplar iÃ§in
        )
        
        # Bellek oluÅŸtur - son 5 analizi hatÄ±rla
        self.memory = ConversationBufferMemory(
            memory_key="chat_history",
            k=5,
            return_messages=True
        )
        
        # Analiz ÅŸablonunu hazÄ±rla
        self.prompt_template = PromptTemplate(
            input_variables=["vulnerability"],
            template="""
            Bu gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± detaylÄ±ca analiz et:
            {vulnerability}

            LÃ¼tfen aÅŸaÄŸÄ±daki formatta analiz yap:
            1. Risk Seviyesi
            2. OlasÄ± Etkiler
            3. SÃ¶mÃ¼rÃ¼ ZorluÄŸu
            4. Ã–nerilen Ã‡Ã¶zÃ¼mler
            5. CVSS Skoru Tahmini

            Ã–nceki analizler:
            {chat_history}
            """
        )
        
        # LLMChain'i oluÅŸtur
        self.chain = LLMChain(
            llm=self.llm,
            prompt=self.prompt_template,
            memory=self.memory,
            verbose=True  # Ä°ÅŸlem adÄ±mlarÄ±nÄ± gÃ¶rmek iÃ§in
        )
    
    def analyze_vulnerability(self, vulnerability_description):
        """
        GÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± analiz eder ve sonuÃ§larÄ± yapÄ±landÄ±rÄ±lmÄ±ÅŸ formatta dÃ¶ndÃ¼rÃ¼r.
        """
        try:
            # Analizi gerÃ§ekleÅŸtir
            result = self.chain.run(vulnerability=vulnerability_description)
            
            # Sonucu iÅŸle ve yapÄ±landÄ±r
            analysis = self._format_analysis(result)
            
            # Zaman damgasÄ± ekle
            analysis['timestamp'] = datetime.now().isoformat()
            
            return analysis
            
        except Exception as e:
            return {
                "error": f"Analiz sÄ±rasÄ±nda hata: {str(e)}",
                "timestamp": datetime.now().isoformat()
            }
    
    def _format_analysis(self, raw_result):
        """
        Ham analiz sonucunu yapÄ±landÄ±rÄ±lmÄ±ÅŸ formata dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.
        """
        # Basit metin iÅŸleme ile sonuÃ§larÄ± ayÄ±r
        lines = raw_result.split('\n')
        analysis = {
            "risk_level": "",
            "impacts": [],
            "exploitation_difficulty": "",
            "recommendations": [],
            "cvss_score": ""
        }
        
        current_section = ""
        for line in lines:
            line = line.strip()
            if "Risk Seviyesi" in line:
                current_section = "risk_level"
            elif "OlasÄ± Etkiler" in line:
                current_section = "impacts"
            elif "SÃ¶mÃ¼rÃ¼ ZorluÄŸu" in line:
                current_section = "exploitation_difficulty"
            elif "Ã–nerilen Ã‡Ã¶zÃ¼mler" in line:
                current_section = "recommendations"
            elif "CVSS Skoru" in line:
                current_section = "cvss_score"
            elif line:
                if current_section == "risk_level":
                    analysis["risk_level"] = line
                elif current_section == "impacts":
                    analysis["impacts"].append(line)
                elif current_section == "exploitation_difficulty":
                    analysis["exploitation_difficulty"] = line
                elif current_section == "recommendations":
                    analysis["recommendations"].append(line)
                elif current_section == "cvss_score":
                    analysis["cvss_score"] = line
        
        return analysis

# KullanÄ±m Ã¶rneÄŸi
def main():
    try:
        # Framework'Ã¼ baÅŸlat
        analyzer = SimpleVulnerabilityAnalyzer("your-api-key")
        
        # Ã–rnek gÃ¼venlik aÃ§Ä±ÄŸÄ±
        vulnerability = """
        Web uygulamasÄ±nÄ±n login formunda SQL injection aÃ§Ä±ÄŸÄ± tespit edildi.
        KullanÄ±cÄ± giriÅŸi doÄŸrudan SQL sorgusunda kullanÄ±lÄ±yor.
        Test edilen payload: ' OR '1'='1
        """
        
        # Analizi gerÃ§ekleÅŸtir
        result = analyzer.analyze_vulnerability(vulnerability)
        
        # SonuÃ§larÄ± gÃ¶ster
        print("\nğŸ” GÃ¼venlik AÃ§Ä±ÄŸÄ± Analizi")
        print("=" * 50)
        print(f"Risk Seviyesi: {result['risk_level']}")
        print("\nOlasÄ± Etkiler:")
        for impact in result['impacts']:
            print(f"- {impact}")
        print(f"\nSÃ¶mÃ¼rÃ¼ ZorluÄŸu: {result['exploitation_difficulty']}")
        print("\nÃ–nerilen Ã‡Ã¶zÃ¼mler:")
        for recommendation in result['recommendations']:
            print(f"- {recommendation}")
        print(f"\nCVSS Skoru: {result['cvss_score']}")
        
    except Exception as e:
        print(f"Hata oluÅŸtu: {str(e)}")

if __name__ == "__main__":
    main()
```



Bu basit framework'Ã¼n Ã¶zel avantajlarÄ±nÄ± ve Ã¶nemli noktalarÄ±nÄ± inceleyelim:

1. **LLMChain'in Temel GÃ¼cÃ¼**
   - Tek bir zincir kullanarak karmaÅŸÄ±k analiz yapabiliyoruz
   - Prompt ÅŸablonu sayesinde tutarlÄ± Ã§Ä±ktÄ±lar alÄ±yoruz
   - Memory Ã¶zelliÄŸi ile Ã¶nceki analizleri hatÄ±rlayÄ±p baÄŸlam oluÅŸturabiliyoruz

2. **YapÄ±landÄ±rÄ±lmÄ±ÅŸ Veri AvantajÄ±**
   - Ham metin Ã§Ä±ktÄ±sÄ±nÄ± iÅŸleyerek JSON formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz
   - Her bÃ¶lÃ¼m (risk, etkiler, Ã¶neriler) ayrÄ± ayrÄ± eriÅŸilebilir
   - Otomatik iÅŸleme ve raporlama kolaylaÅŸÄ±yor

3. **Bellek YÃ¶netimi**
   - Son 5 analizi hatÄ±rlayarak benzer aÃ§Ä±klarÄ± iliÅŸkilendirebiliyoruz
   - Zaman iÃ§indeki trendleri gÃ¶rebiliyoruz
   - Tekrar eden sorunlarÄ± tespit edebiliyoruz

4. **Hata YÃ¶netimi**
   - Try-except bloklarÄ± ile gÃ¼venli Ã§alÄ±ÅŸma
   - Hata durumlarÄ±nda bilgilendirici mesajlar
   - Ä°ÅŸlem takibi iÃ§in verbose mod

Bu framework'Ã¼ ÅŸu ÅŸekilde kullanabilirsiniz:
```python
analyzer = SimpleVulnerabilityAnalyzer("your-api-key")
result = analyzer.analyze_vulnerability("SQL injection aÃ§Ä±ÄŸÄ± aÃ§Ä±klamasÄ±")
print(result)
```

